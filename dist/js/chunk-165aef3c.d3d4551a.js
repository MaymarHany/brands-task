(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-165aef3c"],{"5dc3":function(t,e,r){"use strict";r("a3b3")},9741:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.dataLoad?r("div",{staticClass:" text-center my-2"},[r("b-card",[r("b-spinner",{attrs:{type:"grow",label:"Loading..."}})],1)],1):r("b-card",[r("validation-observer",{ref:"infoRules",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title (En)",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Title (En)","label-for":"title"}},[r("b-form-input",{attrs:{id:"title",autofocus:"",state:t.getValidationState(e),trim:"",placeholder:"Title"},model:{value:t.typeForm.en_title,callback:function(e){t.$set(t.typeForm,"en_title",e)},expression:"typeForm.en_title"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title (Ar)",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Title (Ar)","label-for":"title"}},[r("b-form-input",{attrs:{id:"title",autofocus:"",state:t.getValidationState(e),trim:"",placeholder:"Title"},model:{value:t.typeForm.ar_title,callback:function(e){t.$set(t.typeForm,"ar_title",e)},expression:"typeForm.ar_title"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Content (En)","label-for":"Content"}},[r("b-form-textarea",{attrs:{id:"Content",trim:"",type:"text",placeholder:"Content (En)",state:t.getValidationState(e)},model:{value:t.typeForm.content_en,callback:function(e){t.$set(t.typeForm,"content_en",e)},expression:"typeForm.content_en"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Content (Ar)","label-for":"Content"}},[r("b-form-textarea",{attrs:{id:"Content",trim:"",type:"text",placeholder:"Content (Ar)",state:t.getValidationState(e)},model:{value:t.typeForm.content_ar,callback:function(e){t.$set(t.typeForm,"content_ar",e)},expression:"typeForm.content_ar"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Position",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Position","label-for":"position"}},[r("b-form-input",{attrs:{id:"position",autofocus:"",state:t.getValidationState(e),trim:"",placeholder:"Position"},model:{value:t.typeForm.position,callback:function(e){t.$set(t.typeForm,"position",e)},expression:"typeForm.position"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1)],1),r("div",{staticClass:"d-flex justify-content-end "},[r("b-button",{staticClass:"mb-1",attrs:{variant:"primary"},on:{click:function(e){return t.addCard()}}},[t._v(" add Card ")])],1),t._l(t.cardsCount,(function(e){return r("b-row",{key:e},[r("b-col",{attrs:{cols:"12"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("p",{staticClass:"primary--text"},[t._v(" Card "+t._s(e)+" ")]),r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pointer",attrs:{title:"delete",icon:"Trash2Icon",color:"red"},on:{click:function(r){return t.deleteCard(t.cards[e-1].id,e)}}})],1)]),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title (En) "+e,rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){return[r("b-form-group",{attrs:{label:"Title (En)","label-for":"name"}},[r("b-form-input",{attrs:{id:"Title (En) "+e,autofocus:"",readonly:void 0!==t.cards[e-1].id,state:t.getValidationState(a),trim:"",placeholder:"Title"},model:{value:t.cards[e-1].title_en,callback:function(r){t.$set(t.cards[e-1],"title_en",r)},expression:"cards[index - 1].title_en"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(a.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title (Ar) "+e,rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){return[r("b-form-group",{attrs:{label:"Title (Ar)","label-for":"name"}},[r("b-form-input",{attrs:{id:"Title (Ar) "+e,autofocus:"",state:t.getValidationState(a),trim:"",readonly:void 0!==t.cards[e-1].id,placeholder:"Title"},model:{value:t.cards[e-1].title_ar,callback:function(r){t.$set(t.cards[e-1],"title_ar",r)},expression:"cards[index - 1].title_ar"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(a.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content (En) "+e},scopedSlots:t._u([{key:"default",fn:function(a){return[r("b-form-group",{attrs:{label:"Content (En)","label-for":"description"}},[r("b-form-textarea",{attrs:{id:"Content (En) "+e,trim:"",readonly:void 0!==t.cards[e-1].id,type:"text",placeholder:"Content",state:t.getValidationState(a)},model:{value:t.cards[e-1].content_en,callback:function(r){t.$set(t.cards[e-1],"content_en",r)},expression:"cards[index - 1].content_en"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(a.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content (Ar) "+e},scopedSlots:t._u([{key:"default",fn:function(a){return[r("b-form-group",{attrs:{label:"Content (Ar)","label-for":"description"}},[r("b-form-textarea",{attrs:{id:"Content (Ar) "+e,trim:"",readonly:void 0!==t.cards[e-1].id,type:"text",placeholder:"Content",state:t.getValidationState(a)},model:{value:t.cards[e-1].content_ar,callback:function(r){t.$set(t.cards[e-1],"content_ar",r)},expression:"cards[index - 1].content_ar"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(a.errors[0])+" ")])],1)]}}],null,!0)})],1)],1)})),r("div",[r("b-modal",{ref:"editCard",attrs:{id:"editCard","hide-footer":"",centered:"",title:"Edit Card"}},[r("validation-observer",{ref:"infoRules",attrs:{tag:"form"}},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Title (En)","label-for":"name"}},[r("b-form-input",{attrs:{id:"name",autofocus:"",state:t.getValidationState(e),trim:"",placeholder:"Title"},model:{value:t.cardEdit.title_en,callback:function(e){t.$set(t.cardEdit,"title_en",e)},expression:"cardEdit.title_en"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{name:"Title",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Title (Ar)","label-for":"name"}},[r("b-form-input",{attrs:{id:"name",autofocus:"",state:t.getValidationState(e),trim:"",placeholder:"Title"},model:{value:t.cardEdit.title_ar,callback:function(e){t.$set(t.cardEdit,"title_ar",e)},expression:"cardEdit.title_ar"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Content (En)","label-for":"description"}},[r("b-form-textarea",{attrs:{id:"description",trim:"",type:"text",placeholder:"Content",state:t.getValidationState(e)},model:{value:t.cardEdit.content_en,callback:function(e){t.$set(t.cardEdit,"content_en",e)},expression:"cardEdit.content_en"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1),r("b-col",{attrs:{md:"6"}},[r("validation-provider",{attrs:{rules:"required",name:"Content"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("b-form-group",{attrs:{label:"Content (Ar)","label-for":"description"}},[r("b-form-textarea",{attrs:{id:"description",trim:"",type:"text",placeholder:"Content",state:t.getValidationState(e)},model:{value:t.cardEdit.content_ar,callback:function(e){t.$set(t.cardEdit,"content_ar",e)},expression:"cardEdit.content_ar"}}),r("b-form-invalid-feedback",[t._v(" "+t._s(e.errors[0])+" ")])],1)]}}],null,!0)})],1)],1)],1),r("b-col",{attrs:{cols:"12",md:"12"}},[t.loaderCard?t._e():r("b-button",{staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(e){return e.preventDefault(),t.editCard.apply(null,arguments)}}},[t._v(" Save ")]),r("b-button",{staticClass:"closeModal",attrs:{variant:"outline-danger"},on:{click:function(e){return t.closeModal()}}},[t._v(" Cancel ")]),t.loaderCard?r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:""}},[r("b-spinner",{attrs:{small:"",type:"grow"}}),t._v(" Loading... ")],1):t._e()],1)],1)],1),r("b-row",[r("b-col",{staticClass:"mt-50",attrs:{cols:"12"}},[!t.loader&&t.$route.params.id?r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:a||Object.values(t.errors).length>0},on:{click:function(e){return t.addType()}}},[t._v(" Save Changes ")]):t._e(),t.loader||t.$route.params.id?t._e():r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:a||Object.values(t.errors).length>0},on:{click:function(e){return t.addType()}}},[t._v(" Add ")]),t.loader?r("b-button",{staticClass:"mr-1",attrs:{variant:"primary",disabled:""}},[r("b-spinner",{attrs:{small:"",type:"grow"}}),t._v(" Loading... ")],1):t._e()],1)],1)]}}])})],1)},n=[],o=r("b85c"),i=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("a434"),r("a6f4")),s=r("47bc"),l=r("bc3a"),d=r.n(l),c=r("8f03"),u=r("223c"),f=(r("2ef0"),r("0800")),p={components:{FeatherIcon:f["a"]},data:function(){return{id:this.$route.params.id,isVoucher:!1,required:c["b"],allSelected:[],indeterminate:!1,countries:[],users:[],loader:!1,loaderCard:!1,validationErrors:{},errorMsg:"",errors:{},file:"",dataLoad:!1,cardsCount:1,videosCount:1,cardEdit:{title_en:"",title_ar:"",content_ar:"",content_en:""},cards:[{title_en:"",title_ar:"",content_ar:"",content_en:""}]}},setup:function(){var t=Object(s["a"])(),e=t.getValidationState,r=Object(i["ref"])([]),a=Object(i["ref"])({type:"ABOUT_US"});return{getValidationState:e,typeForm:a,images:r}},mounted:function(){},methods:{getId:function(t){return this.$youtube.getIdFromUrl(t.url)},selectFile:function(){this.$refs.refInputEl.$el.click()},previewVideo:function(){var t=document.getElementById("video-preview"),e=new FileReader;e.readAsDataURL(this.file),e.addEventListener("load",(function(){t.src=e.result}))},closeModal:function(){this.$refs.editCard.hide()},addCard:function(){this.cards.push({title_en:"",title_ar:"",content_ar:"",content_en:""}),this.cardsCount+=1},addVideo:function(){this.videos.push({url:""}),this.videosCount+=1},changeProfile:function(t){var e=this,r=t.target;if(r.files)for(var a=function(t){var a=URL.createObjectURL(r.files[t]),n=new Image;n.src=window.URL.createObjectURL(r.files[t]),n.onload=function(){e.typeForm.images.push({url:a}),e.images.push(r.files[t])}},n=0;n<r.files.length;n+=1)a(n)},deleteImg:function(t,e){var r=this;t?d.a.get("admin/delete_campaign_media/".concat(t)).then((function(t){200===t.status?(r.showType(),r.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}})):r.$toast({component:u["a"],props:{title:"Server Error",icon:"BellIcon",variant:"danger"}})})).catch((function(){})).finally((function(){r.dataLoad=!1})):(this.typeForm.images.splice(e,1),this.images.splice(e,1),this.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}}))},deleteCard:function(t,e){var r=this;this.cardsCount>1?t?d.a.get("admin/delete_card/".concat(t)).then((function(t){200===t.status?(r.showType(),r.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}})):r.$toast({component:u["a"],props:{title:"Server Error",icon:"BellIcon",variant:"danger"}})})).catch((function(){})).finally((function(){r.loader=!1})):(this.cards.splice(e,1),this.cardsCount-=1,this.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}})):this.$toast({component:u["a"],props:{title:"At Least one card is required",icon:"BellIcon",variant:"danger"}})},deleteVideo:function(t,e){var r=this;t?d.a.get("admin/delete_campaign_media/".concat(t)).then((function(t){200===t.status?(r.showType(),r.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}})):r.$toast({component:u["a"],props:{title:"Server Error",icon:"BellIcon",variant:"danger"}})})).catch((function(){})).finally((function(){r.loader=!1})):(this.videos.splice(e,1),this.videosCount-=1,this.$toast({component:u["a"],props:{title:"Deleted Succesfully",icon:"BellIcon",variant:"success"}}))},openCardDialog:function(t){this.cardEdit=t,this.$refs.editCard.show()},showType:function(){var t=this;return this.dataLoad=!0,!!this.$route.params.id&&(d.a.get("about-us-sections/".concat(this.$route.params.id)).then((function(e){t.typeForm=e.data.data.campaign,t.typeForm.cards.length>0?(t.cards=t.typeForm.cards,t.cardsCount=t.typeForm.cards.length):(t.cards=[{title_en:"",title_ar:"",content_ar:"",content_en:""}],t.cardsCount=1),t.videos=t.typeForm.videos,t.videosCount=t.typeForm.videos.length})).catch((function(){})).finally((function(){t.dataLoad=!1})),!0)},editCard:function(){var t=this;this.loaderCard=!0,this.cardEdit.product_gift_id=this.cardEdit.id,d.a.post("admin/card_update/".concat(this.cardEdit.id),this.cardEdit).then((function(e){200===e.status&&(t.$refs.editCard.hide(),t.$toasted.show("Updated Successfully",{position:"top-center",duration:3e3}))})).catch((function(e){500===e.response.status?t.$toast({component:u["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===e.response.status&&(t.errorMsg=e.response.data.errors)})).finally((function(){t.loaderCard=!1}))},addType:function(){var t=this;if(this.$route.params.id){this.loader=!0;var e=new FormData;if(this.cards)for(var r=0;r<this.cardsCount;r+=1)void 0===this.cards[r].id&&(e.append("cards[".concat(r,"][title_ar]"),this.cards[r].title_ar),e.append("cards[".concat(r,"][title_en]"),this.cards[r].title_en),e.append("cards[".concat(r,"][content_ar]"),this.cards[r].content_ar),e.append("cards[".concat(r,"][content_en]"),this.cards[r].content_en));e.append("product_gift_id",this.$route.params.id),d.a.post("about-us-sections/".concat(this.$route.params.id),e).then((function(e){200===e.status&&(t.$router.push({name:"campaigns"}),t.$toasted.show("Updated Successfully",{position:"top-center",duration:3e3}))})).catch((function(e){500===e.response.status?t.$toast({component:u["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===e.response.status&&(t.errorMsg=e.response.data.errors)})).finally((function(){t.loader=!1}))}else{this.loader=!0;var a=new FormData;if(this.cards){var n,i=Object(o["a"])(this.cards);try{for(i.s();!(n=i.n()).done;){var s=n.value;a.append("cards[]",s)}}catch(l){i.e(l)}finally{i.f()}}d.a.post("about-us-sections",a).then((function(e){200!==e.status&&201!==e.status||(t.$router.push({name:"campaigns"}),t.$toasted.show("Created Successfully",{position:"top-center",duration:3e3}))})).catch((function(e){500===e.response.status?t.$toast({component:u["a"],props:{title:"Ooops!!! An Unexpected Internal server error",icon:"BellIcon",variant:"danger"}}):422===e.response.status&&(t.errorMsg=e.response.data.errors)})).finally((function(){t.loader=!1}))}}}},m=p,b=(r("5dc3"),r("2877")),v=Object(b["a"])(m,a,n,!1,null,null,null);e["default"]=v.exports},a3b3:function(t,e,r){},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),o=r("a691"),i=r("50c4"),s=r("7b0b"),l=r("65f0"),d=r("8418"),c=r("1dde"),u=r("ae40"),f=c("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,v=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var r,a,c,u,f,p,_=s(this),y=i(_.length),g=n(t,y),C=arguments.length;if(0===C?r=a=0:1===C?(r=0,a=y-g):(r=C-2,a=b(m(o(e),0),y-g)),y+r-a>v)throw TypeError(h);for(c=l(_,a),u=0;u<a;u++)f=g+u,f in _&&d(c,u,_[f]);if(c.length=a,r<a){for(u=g;u<y-a;u++)f=u+a,p=u+r,f in _?_[p]=_[f]:delete _[p];for(u=y;u>y-a+r;u--)delete _[u-1]}else if(r>a)for(u=y-a;u>g;u--)f=u+a-1,p=u+r-1,f in _?_[p]=_[f]:delete _[p];for(u=0;u<r;u++)_[u+g]=arguments[u+2];return _.length=y-a+r,c}})},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var a=r("06c5");function n(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Object(a["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(l)throw i}}}}}}]);
//# sourceMappingURL=chunk-165aef3c.d3d4551a.js.map